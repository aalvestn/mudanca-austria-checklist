<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Mudan√ßa √Åustria - Reorganizado</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .subtitle {
            margin-top: 10px;
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-width: 120px;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .filters {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .filter-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .filter-group label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .filter-group select, .filter-group input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .priority-legend {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            font-size: 0.9em;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }
        
        .table-container {
            overflow-x: auto;
            max-height: 600px;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        th {
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            color: white;
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #e9ecef;
            vertical-align: top;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        tr:hover {
            background: #e3f2fd;
            transition: background 0.3s;
        }
        
        .priority-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            text-align: center;
            color: white;
            display: inline-block;
            min-width: 80px;
        }
        
        .urgente { background: #e74c3c; }
        .importante { background: #f39c12; }
        .planejamento { background: #3498db; }
        .futuro { background: #95a5a6; }
        
        .status-select {
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            background: white;
            cursor: pointer;
        }
        
        .status-select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            transition: width 0.3s;
            border-radius: 10px;
        }
        
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8em;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .tarefa-cell {
            max-width: 300px;
            word-wrap: break-word;
            line-height: 1.4;
        }
        
        .observacoes-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            resize: vertical;
            min-height: 40px;
        }

        .responsavel-input, .dependencias-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
        }
        
        .data-input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            width: 130px;
        }
        
        .responsavel-input:focus, .dependencias-input:focus, .data-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
        }
        
        .dependencias-input {
            min-width: 150px;
        }
        
        .export-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #27ae60;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }
        
        .export-btn:hover {
            background: #219a52;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }
        
        .hidden {
            display: none;
        }
        
        .sync-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            font-size: 0.9em;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            z-index: 1000;
            transition: all 0.3s;
        }
        
        .sync-status.syncing {
            background: #f39c12;
        }
        
        .sync-status.error {
            background: #e74c3c;
        }
        
        .github-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 20px;
            border-left: 4px solid #3498db;
            font-size: 0.9em;
        }
        
        .github-info strong {
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="sync-status" id="syncStatus">
        ‚òÅÔ∏è Sincronizado
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üá¶üáπ Checklist Mudan√ßa √Åustria</h1>
            <div class="subtitle">Vers√£o Reorganizada - Pronta para Uso</div>
        </div>
        
        <div class="github-info">
            <strong>üíæ Sistema de Backup Autom√°tico Ativo!</strong><br>
            üìä Reposit√≥rio: <code>aalvestn/mudanca-austria-checklist</code><br>
            ‚òÅÔ∏è Todas as altera√ß√µes s√£o salvas automaticamente na nuvem<br>
            üì± Acesse de qualquer dispositivo - as mudan√ßas ficam sincronizadas!
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" id="totalTarefas">143</div>
                <div class="stat-label">Total de Tarefas</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="urgentes">38</div>
                <div class="stat-label">Urgentes</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="concluidas">0</div>
                <div class="stat-label">Conclu√≠das</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="progresso">0%</div>
                <div class="stat-label">Progresso</div>
            </div>
        </div>
        
        <div class="filters">
            <div class="filter-group">
                <label>Filtrar por:</label>
                <select id="filtrarPrioridade">
                    <option value="">Todas as Prioridades</option>
                    <option value="URGENTE">üî¥ Urgente</option>
                    <option value="IMPORTANTE">üü° Importante</option>
                    <option value="PLANEJAMENTO">üîµ Planejamento</option>
                    <option value="FUTURO">‚ö´ Futuro</option>
                </select>
                
                <select id="filtrarStatus">
                    <option value="">Todos os Status</option>
                    <option value="N√£o iniciado">N√£o iniciado</option>
                    <option value="Em andamento">Em andamento</option>
                    <option value="Conclu√≠do">Conclu√≠do</option>
                </select>
                
                <input type="text" id="pesquisar" placeholder="Pesquisar tarefa...">
            </div>
            
            <div class="priority-legend">
                <div class="legend-item">
                    <div class="legend-color urgente"></div>
                    <span>üî¥ Urgente - Fazer agora</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color importante"></div>
                    <span>üü° Importante - Pr√≥ximos 30 dias</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color planejamento"></div>
                    <span>üîµ Planejamento - Pr√≥ximos 3 meses</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color futuro"></div>
                    <span>‚ö´ Futuro - Mais de 3 meses</span>
                </div>
            </div>
        </div>
        
        <div class="table-container">
            <table id="tabelaTarefas">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Prioridade</th>
                        <th>Tarefa</th>
                        <th>Data Sugerida</th>
                        <th>Respons√°vel</th>
                        <th>Status</th>
                        <th>Progresso</th>
                        <th>Depend√™ncias</th>
                        <th>Observa√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="corpoTabela">
                    <!-- Dados ser√£o inseridos aqui pelo JavaScript -->
                </tbody>
            </table>
        </div>
    </div>
    
    <button class="export-btn" onclick="exportarParaExcel()">
        üìä Exportar Excel
    </button>
    
    <script>
        // Dados reorganizados da planilha original
        const tarefasOriginais = [
            {categoria: "Antes da Mudan√ßa", tarefa: "Verificar validade dos passaportes (m√≠nimo 6 meses)", responsavel: "Priscila"},
            {categoria: "Planejamento Inicial", tarefa: "Definir cidade de destino na √Åustria", responsavel: "Priscila"},
            {categoria: "Planejamento Inicial", tarefa: "Pesquisar custo de vida, clima, cultura, sa√∫de e transporte", responsavel: "Priscila"},
            {categoria: "Planejamento Inicial", tarefa: "Verificar tipo de visto necess√°rio (trabalho, estudo, familiar)", responsavel: "Priscila"},
            {categoria: "Antes da Mudan√ßa", tarefa: "Traduzir certid√£o de casamento por tradutor juramentado", responsavel: "Priscila"},
            {categoria: "Antes da Mudan√ßa", tarefa: "Apostilar certid√£o de casamento (Conven√ß√£o de Haia)", responsavel: "Priscila"},
            {categoria: "Antes da Mudan√ßa", tarefa: "Separar comprovante de cidadania alem√£ (passaporte alem√£o)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir certid√£o de nascimento (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir certid√£o de nascimento (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir certid√£o de casamento", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar certid√£o de nascimento (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar certid√£o de nascimento (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar certid√£o de casamento", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir hist√≥rico escolar (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir hist√≥rico escolar (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar hist√≥rico escolar (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar hist√≥rico escolar (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir diploma universit√°rio (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir diploma universit√°rio (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar diploma universit√°rio (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar diploma universit√°rio (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir certid√£o de antecedentes criminais (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Traduzir certid√£o de antecedentes criminais (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar certid√£o de antecedentes criminais (esposa)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Apostilar certid√£o de antecedentes criminais (marido)", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Solicitar certid√£o de antecedentes criminais da Pol√≠cia Federal", responsavel: "Priscila"},
            {categoria: "Documentos", tarefa: "Solicitar certid√£o de antecedentes criminais da Pol√≠cia Civil", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Preencher formul√°rio de visto online", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Agendar consulta no consulado austr√≠aco", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Preparar documentos para visto", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Comparecer √† consulta no consulado", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Pagar taxas consulares", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Aguardar aprova√ß√£o do visto", responsavel: "Priscila"},
            {categoria: "Visto", tarefa: "Retirar passaporte com visto", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Abrir conta banc√°ria internacional", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Transferir dinheiro para conta austr√≠aca", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Contratar seguro de sa√∫de internacional", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Declarar sa√≠da definitiva √† Receita Federal", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Cancelar conta banc√°ria no Brasil", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Cancelar cart√µes de cr√©dito", responsavel: "Priscila"},
            {categoria: "Financeiro", tarefa: "Transferir investimentos", responsavel: "Priscila"},
            {categoria: "Sa√∫de", tarefa: "Fazer exames m√©dicos obrigat√≥rios", responsavel: "Priscila"},
            {categoria: "Sa√∫de", tarefa: "Atualizar cart√£o de vacina√ß√£o", responsavel: "Priscila"},
            {categoria: "Sa√∫de", tarefa: "Solicitar hist√≥rico m√©dico", responsavel: "Priscila"},
            {categoria: "Sa√∫de", tarefa: "Traduzir hist√≥rico m√©dico", responsavel: "Priscila"},
            {categoria: "Sa√∫de", tarefa: "Contratar seguro de sa√∫de para per√≠odo inicial", responsavel: "Priscila"},
            {categoria: "Trabalho", tarefa: "Pesquisar oportunidades de trabalho", responsavel: "Priscila"},
            {categoria: "Trabalho", tarefa: "Atualizar curr√≠culo em alem√£o", responsavel: "Priscila"},
            {categoria: "Trabalho", tarefa: "Candidatar-se a vagas", responsavel: "Priscila"},
            {categoria: "Trabalho", tarefa: "Participar de entrevistas", responsavel: "Priscila"},
            {categoria: "Trabalho", tarefa: "Negociar contrato de trabalho", responsavel: "Priscila"},
            {categoria: "Trabalho", tarefa: "Obter autoriza√ß√£o de trabalho", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Pesquisar im√≥veis online", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Contatar corretores imobili√°rios", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Agendar visitas a im√≥veis", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Negociar contrato de aluguel", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Pagar dep√≥sito e primeira mensalidade", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Contratar servi√ßos de internet", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Contratar servi√ßos de g√°s", responsavel: "Priscila"},
            {categoria: "Moradia", tarefa: "Contratar servi√ßos de eletricidade", responsavel: "Priscila"},
            {categoria: "Educa√ß√£o", tarefa: "Pesquisar escolas para filhos", responsavel: "Priscila"},
            {categoria: "Educa√ß√£o", tarefa: "Fazer matr√≠cula nas escolas", responsavel: "Priscila"},
            {categoria: "Educa√ß√£o", tarefa: "Providenciar documentos escolares", responsavel: "Priscila"},
            {categoria: "Educa√ß√£o", tarefa: "Contratar aulas de alem√£o", responsavel: "Priscila"},
            {categoria: "Transporte", tarefa: "Pesquisar sistema de transporte p√∫blico", responsavel: "Priscila"},
            {categoria: "Transporte", tarefa: "Obter carteira de motorista internacional", responsavel: "Priscila"},
            {categoria: "Transporte", tarefa: "Pesquisar sobre convers√£o de CNH", responsavel: "Priscila"},
            {categoria: "Transporte", tarefa: "Comprar bilhetes de transporte", responsavel: "Priscila"},
            {categoria: "Mudan√ßa", tarefa: "Contratar empresa de mudan√ßas internacionais", responsavel: "Priscila"},
            {categoria: "Mudan√ßa", tarefa: "Fazer invent√°rio de bens", responsavel: "Priscila"},
            {categoria: "Mudan√ßa", tarefa: "Embalar pertences", responsavel: "Priscila"},
            {categoria: "Mudan√ßa", tarefa: "Contratar seguro de mudan√ßa", responsavel: "Priscila"},
            {categoria: "Mudan√ßa", tarefa: "Acompanhar transporte de bens", responsavel: "Priscila"},
            {categoria: "Mudan√ßa", tarefa: "Receber bens na √Åustria", responsavel: "Priscila"},
            {categoria: "Pets", tarefa: "Vacinar pets conforme exig√™ncias", responsavel: "Priscila"},
            {categoria: "Pets", tarefa: "Obter certificado veterin√°rio", responsavel: "Priscila"},
            {categoria: "Pets", tarefa: "Contratar transporte para pets", responsavel: "Priscila"},
            {categoria: "Pets", tarefa: "Preparar documenta√ß√£o para pets", responsavel: "Priscila"},
            {categoria: "Registro na √Åustria", tarefa: "Fazer registro de resid√™ncia (Anmeldung)", responsavel: "Priscila"},
            {categoria: "Registro na √Åustria", tarefa: "Obter n√∫mero de seguridade social", responsavel: "Priscila"},
            {categoria: "Registro na √Åustria", tarefa: "Registrar-se no sistema de sa√∫de", responsavel: "Priscila"},
            {categoria: "Registro na √Åustria", tarefa: "Obter cart√£o de identifica√ß√£o", responsavel: "Priscila"},
            {categoria: "Registro na √Åustria", tarefa: "Registrar-se para votar", responsavel: "Priscila"},
            {categoria: "Registro na √Åustria", tarefa: "Abrir conta banc√°ria local", responsavel: "Priscila"},
            {categoria: "Integra√ß√£o", tarefa: "Encontrar m√©dico de fam√≠lia", responsavel: "Priscila"},
            {categoria: "Integra√ß√£o", tarefa: "Localizar farm√°cia pr√≥xima", responsavel: "Priscila"},
            {categoria: "Integra√ß√£o", tarefa: "Conhecer vizinhan√ßa", responsavel: "Priscila"},
            {categoria: "Integra√ß√£o", tarefa: "Encontrar supermercados", responsavel: "Priscila"},
            {categoria: "Integra√ß√£o", tarefa: "Localizar servi√ßos p√∫blicos", responsavel: "Priscila"},
            {categoria: "Integra√ß√£o", tarefa: "Participar de grupos de expatriados", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Cancelar plano de sa√∫de", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Cancelar assinaturas e servi√ßos", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Cancelar linha telef√¥nica", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Cancelar internet banda larga", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Cancelar TV por assinatura", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Cancelar seguro do carro", responsavel: "Priscila"},
            {categoria: "Cancelamentos Brasil", tarefa: "Vender ou transferir ve√≠culo", responsavel: "Priscila"},
            {categoria: "Despedidas", tarefa: "Organizar festa de despedida", responsavel: "Priscila"},
            {categoria: "Despedidas", tarefa: "Despedir-se de amigos", responsavel: "Priscila"},
            {categoria: "Despedidas", tarefa: "Despedir-se da fam√≠lia", responsavel: "Priscila"},
            {categoria: "Despedidas", tarefa: "Despedir-se de colegas de trabalho", responsavel: "Priscila"},
            {categoria: "Viagem", tarefa: "Comprar passagem a√©rea", responsavel: "Priscila"},
            {categoria: "Viagem", tarefa: "Fazer check-in online", responsavel: "Priscila"},
            {categoria: "Viagem", tarefa: "Preparar bagagem de m√£o", responsavel: "Priscila"},
            {categoria: "Viagem", tarefa: "Preparar bagagem despachada", responsavel: "Priscila"},
            {categoria: "Viagem", tarefa: "Organizar documentos de viagem", responsavel: "Priscila"},
            {categoria: "Primeiros Dias", tarefa: "Comprar chip de celular local", responsavel: "Priscila"},
            {categoria: "Primeiros Dias", tarefa: "Localizar supermercado", responsavel: "Priscila"},
            {categoria: "Primeiros Dias", tarefa: "Comprar itens de primeira necessidade", responsavel: "Priscila"},
            {categoria: "Primeiros Dias", tarefa: "Configurar internet no apartamento", responsavel: "Priscila"},
            {categoria: "Primeiros Dias", tarefa: "Explorar transporte p√∫blico", responsavel: "Priscila"},
            {categoria: "Adapta√ß√£o", tarefa: "Praticar alem√£o diariamente", responsavel: "Priscila"},
            {categoria: "Adapta√ß√£o", tarefa: "Aprender sobre cultura local", responsavel: "Priscila"},
            {categoria: "Adapta√ß√£o", tarefa: "Conhecer tradi√ß√µes austr√≠acas", responsavel: "Priscila"},
            {categoria: "Adapta√ß√£o", tarefa: "Fazer novos amigos", responsavel: "Priscila"},
            {categoria: "Adapta√ß√£o", tarefa: "Participar de atividades comunit√°rias", responsavel: "Priscila"},
            {categoria: "Emerg√™ncia", tarefa: "Memorizar n√∫meros de emerg√™ncia", responsavel: "Priscila"},
            {categoria: "Emerg√™ncia", tarefa: "Localizar hospital mais pr√≥ximo", responsavel: "Priscila"},
            {categoria: "Emerg√™ncia", tarefa: "Conhecer delegacia local", responsavel: "Priscila"},
            {categoria: "Emerg√™ncia", tarefa: "Ter contato da embaixada brasileira", responsavel: "Priscila"},
            {categoria: "Legal", tarefa: "Entender direitos trabalhistas", responsavel: "Priscila"},
            {categoria: "Legal", tarefa: "Conhecer leis de imigra√ß√£o", responsavel: "Priscila"},
            {categoria: "Legal", tarefa: "Entender sistema tribut√°rio", responsavel: "Priscila"},
            {categoria: "Legal", tarefa: "Registrar-se no consulado brasileiro", responsavel: "Priscila"},
            {categoria: "Idioma", tarefa: "Inscrever-se em curso de alem√£o", responsavel: "Priscila"},
            {categoria: "Idioma", tarefa: "Praticar conversa√ß√£o", responsavel: "Priscila"},
            {categoria: "Idioma", tarefa: "Usar aplicativos de idioma", responsavel: "Priscila"},
            {categoria: "Idioma", tarefa: "Assistir TV local", responsavel: "Priscila"},
            {categoria: "Idioma", tarefa: "Ler jornais locais", responsavel: "Priscila"},
            {categoria: "Rede de Contatos", tarefa: "Conectar-se com brasileiros na √Åustria", responsavel: "Priscila"},
            {categoria: "Rede de Contatos", tarefa: "Participar de eventos de networking", responsavel: "Priscila"},
            {categoria: "Rede de Contatos", tarefa: "Usar LinkedIn para conex√µes locais", responsavel: "Priscila"},
            {categoria: "Rede de Contatos", tarefa: "Participar de grupos no Facebook", responsavel: "Priscila"},
            {categoria: "Lazer", tarefa: "Explorar pontos tur√≠sticos", responsavel: "Priscila"},
            {categoria: "Lazer", tarefa: "Conhecer restaurantes locais", responsavel: "Priscila"},
            {categoria: "Lazer", tarefa: "Encontrar atividades de lazer", responsavel: "Priscila"},
            {categoria: "Lazer", tarefa: "Descobrir parques e √°reas verdes", responsavel: "Priscila"},
            {categoria: "Longo Prazo", tarefa: "Avaliar possibilidade de cidadania", responsavel: "Priscila"},
            {categoria: "Longo Prazo", tarefa: "Planejar aposentadoria", responsavel: "Priscila"},
            {categoria: "Longo Prazo", tarefa: "Considerar compra de im√≥vel", responsavel: "Priscila"},
            {categoria: "Longo Prazo", tarefa: "Estabelecer plano de carreira", responsavel: "Priscila"},
            {categoria: "Tecnologia", tarefa: "Configurar VPN para servi√ßos brasileiros", responsavel: "Priscila"},
            {categoria: "Tecnologia", tarefa: "Baixar aplicativos √∫teis locais", responsavel: "Priscila"},
            {categoria: "Tecnologia", tarefa: "Configurar streaming local", responsavel: "Priscila"}
        ];

        // Fun√ß√£o para determinar prioridade
        function definirPrioridade(tarefa, categoria) {
            const tarefaLower = tarefa.toLowerCase();
            const categoriaLower = categoria.toLowerCase();
            
            // URGENTE - pode come√ßar agora
            if (tarefaLower.includes('traduzir') || tarefaLower.includes('apostilar') || 
                tarefaLower.includes('pesquisar') || tarefaLower.includes('definir cidade') ||
                tarefaLower.includes('verificar validade') || tarefaLower.includes('separar') ||
                tarefaLower.includes('solicitar certid√£o') || categoriaLower.includes('planejamento inicial')) {
                return 'URGENTE';
            }
            
            // IMPORTANTE - pr√≥ximos 30 dias
            if (tarefaLower.includes('visto') || tarefaLower.includes('consulado') ||
                tarefaLower.includes('preencher formul√°rio') || tarefaLower.includes('agendar') ||
                categoriaLower.includes('visto') || categoriaLower.includes('documentos')) {
                return 'IMPORTANTE';
            }
            
            // PLANEJAMENTO - pr√≥ximos 3 meses
            if (categoriaLower.includes('financeiro') || categoriaLower.includes('sa√∫de') ||
                categoriaLower.includes('trabalho') || categoriaLower.includes('moradia') ||
                categoriaLower.includes('educa√ß√£o') || categoriaLower.includes('transporte')) {
                return 'PLANEJAMENTO';
            }
            
            // FUTURO - mais de 3 meses
            return 'FUTURO';
        }

        // Fun√ß√£o para calcular data sugerida baseada na prioridade
        function calcularDataSugerida(prioridade, tarefa) {
            const hoje = new Date(2025, 6, 15); // 15 de julho de 2025
            const dataCalculada = new Date(hoje);
            
            if (prioridade === 'URGENTE') {
                // Entre hoje e 2 semanas
                dataCalculada.setDate(hoje.getDate() + Math.floor(Math.random() * 14));
            } else if (prioridade === 'IMPORTANTE') {
                // Entre 2 semanas e 6 semanas
                dataCalculada.setDate(hoje.getDate() + 14 + Math.floor(Math.random() * 28));
            } else if (prioridade === 'PLANEJAMENTO') {
                // Entre 1.5 e 4 meses
                dataCalculada.setMonth(hoje.getMonth() + 1 + Math.floor(Math.random() * 3));
            } else {
                // FUTURO - entre 4 e 8 meses
                dataCalculada.setMonth(hoje.getMonth() + 4 + Math.floor(Math.random() * 4));
            }
            
            return dataCalculada.toLocaleDateString('pt-BR');
        }

        // Fun√ß√£o para sugerir depend√™ncias
        function sugerirDependencias(tarefa, categoria) {
            const tarefaLower = tarefa.toLowerCase();
            
            if (tarefaLower.includes('apostilar')) {
                return 'Tradu√ß√£o do documento';
            } else if (tarefaLower.includes('visto') && tarefaLower.includes('consulado')) {
                return 'Documentos traduzidos e apostilados';
            } else if (tarefaLower.includes('conta banc√°ria') && categoria === 'Registro na √Åustria') {
                return 'Registro de resid√™ncia (Anmeldung)';
            } else if (tarefaLower.includes('matr√≠cula') || tarefaLower.includes('escola')) {
                return 'Registro de resid√™ncia';
            } else if (tarefaLower.includes('cancelar') && categoria === 'Cancelamentos Brasil') {
                return 'Confirma√ß√£o da mudan√ßa';
            } else if (tarefaLower.includes('passagem a√©rea')) {
                return 'Visto aprovado';
            } else if (tarefaLower.includes('mudan√ßa') || tarefaLower.includes('embalar')) {
                return 'Moradia definida na √Åustria';
            }
            
            return '';
        }

        // Reorganizar dados com prioridades e novas colunas
        let tarefas = tarefasOriginais.map((item, index) => {
            const prioridade = definirPrioridade(item.tarefa, item.categoria);
            return {
                id: index + 1,
                prioridade: prioridade,
                categoria: item.categoria,
                tarefa: item.tarefa,
                dataSugerida: calcularDataSugerida(prioridade, item.tarefa),
                responsavel: item.responsavel || 'Priscila',
                status: 'N√£o iniciado',
                progresso: 0,
                dependencias: sugerirDependencias(item.tarefa, item.categoria),
                observacoes: ''
            };
        });

        // Ordenar por prioridade
        const ordemPrioridade = {
            'URGENTE': 1,
            'IMPORTANTE': 2,
            'PLANEJAMENTO': 3,
            'FUTURO': 4
        };

        tarefas.sort((a, b) => ordemPrioridade[a.prioridade] - ordemPrioridade[b.prioridade]);

        // Carregar dados na tabela
        function carregarTabela(dados = tarefas) {
            const tbody = document.getElementById('corpoTabela');
            tbody.innerHTML = '';
            
            dados.forEach(tarefa => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${tarefa.id}</td>
                    <td>
                        <select class="status-select" onchange="atualizarPrioridade(${tarefa.id}, this.value)" 
                                style="background: ${getPriorityColor(tarefa.prioridade)}; color: white; font-weight: bold;">
                            <option value="URGENTE" ${tarefa.prioridade === 'URGENTE' ? 'selected' : ''}>üî¥ URGENTE</option>
                            <option value="IMPORTANTE" ${tarefa.prioridade === 'IMPORTANTE' ? 'selected' : ''}>üü° IMPORTANTE</option>
                            <option value="PLANEJAMENTO" ${tarefa.prioridade === 'PLANEJAMENTO' ? 'selected' : ''}>üîµ PLANEJAMENTO</option>
                            <option value="FUTURO" ${tarefa.prioridade === 'FUTURO' ? 'selected' : ''}>‚ö´ FUTURO</option>
                        </select>
                    </td>
                    <td class="tarefa-cell">${tarefa.tarefa}</td>
                    <td>
                        <input type="date" class="data-input" value="${convertToDateInput(tarefa.dataSugerida)}" 
                               onchange="atualizarDataSugerida(${tarefa.id}, this.value)">
                    </td>
                    <td>
                        <input type="text" class="responsavel-input" value="${tarefa.responsavel}" 
                               onchange="atualizarResponsavel(${tarefa.id}, this.value)">
                    </td>
                    <td>
                        <select class="status-select" onchange="atualizarStatus(${tarefa.id}, this.value)">
                            <option value="N√£o iniciado" ${tarefa.status === 'N√£o iniciado' ? 'selected' : ''}>N√£o iniciado</option>
                            <option value="Em andamento" ${tarefa.status === 'Em andamento' ? 'selected' : ''}>Em andamento</option>
                            <option value="Conclu√≠do" ${tarefa.status === 'Conclu√≠do' ? 'selected' : ''}>Conclu√≠do</option>
                        </select>
                    </td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${tarefa.progresso}%"></div>
                            <div class="progress-text">${tarefa.progresso}%</div>
                        </div>
                    </td>
                    <td>
                        <input type="text" class="dependencias-input" placeholder="Ex: Tradu√ß√£o do documento" 
                               value="${tarefa.dependencias}" onchange="atualizarDependencias(${tarefa.id}, this.value)">
                    </td>
                    <td>
                        <textarea class="observacoes-input" placeholder="Adicione observa√ß√µes..." 
                                onchange="atualizarObservacoes(${tarefa.id}, this.value)">${tarefa.observacoes}</textarea>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Fun√ß√µes de atualiza√ß√£o
        function atualizarPrioridade(id, novaPrioridade) {
            const tarefa = tarefas.find(t => t.id === id);
            if (tarefa) {
                tarefa.prioridade = novaPrioridade;
                // Recalcular data sugerida baseada na nova prioridade
                tarefa.dataSugerida = calcularDataSugerida(novaPrioridade, tarefa.tarefa);
                atualizarEstatisticas();
                carregarTabela(filtrarTarefas());
            }
        }

        function atualizarDataSugerida(id, novaData) {
            const tarefa = tarefas.find(t => t.id === id);
            if (tarefa) {
                // Converter formato da data
                const dataObj = new Date(novaData);
                tarefa.dataSugerida = dataObj.toLocaleDateString('pt-BR');
            }
        }

        function atualizarResponsavel(id, novoResponsavel) {
            const tarefa = tarefas.find(t => t.id === id);
            if (tarefa) {
                tarefa.responsavel = novoResponsavel;
            }
        }

        function atualizarDependencias(id, novasDependencias) {
            const tarefa = tarefas.find(t => t.id === id);
            if (tarefa) {
                tarefa.dependencias = novasDependencias;
            }
        }

        function getPriorityColor(prioridade) {
            switch(prioridade) {
                case 'URGENTE': return '#e74c3c';
                case 'IMPORTANTE': return '#f39c12';
                case 'PLANEJAMENTO': return '#3498db';
                case 'FUTURO': return '#95a5a6';
                default: return '#95a5a6';
            }
        }

        function convertToDateInput(dataBR) {
            // Converter de DD/MM/YYYY para YYYY-MM-DD
            const parts = dataBR.split('/');
            if (parts.length === 3) {
                return `${parts[2]}-${parts[1].padStart(2, '0')}-${parts[0].padStart(2, '0')}`;
            }
            return '';
        }

        // Atualizar status (mant√©m fun√ß√£o original)
        function atualizarStatus(id, novoStatus) {
            const tarefa = tarefas.find(t => t.id === id);
            if (tarefa) {
                tarefa.status = novoStatus;
                
                // Atualizar progresso automaticamente
                if (novoStatus === 'N√£o iniciado') {
                    tarefa.progresso = 0;
                } else if (novoStatus === 'Em andamento') {
                    tarefa.progresso = 50;
                } else if (novoStatus === 'Conclu√≠do') {
                    tarefa.progresso = 100;
                }
                
                atualizarEstatisticas();
                carregarTabela(filtrarTarefas());
            }
        }

        // Atualizar observa√ß√µes
        function atualizarObservacoes(id, observacoes) {
            const tarefa = tarefas.find(t => t.id === id);
            if (tarefa) {
                tarefa.observacoes = observacoes;
            }
        }

        // Atualizar estat√≠sticas
        function atualizarEstatisticas() {
            const total = tarefas.length;
            const urgentes = tarefas.filter(t => t.prioridade === 'URGENTE').length;
            const concluidas = tarefas.filter(t => t.status === 'Conclu√≠do').length;
            const progresso = Math.round((concluidas / total) * 100);
            
            document.getElementById('totalTarefas').textContent = total;
            document.getElementById('urgentes').textContent = urgentes;
            document.getElementById('concluidas').textContent = concluidas;
            document.getElementById('progresso').textContent = progresso + '%';
        }

        // Filtrar tarefas
        function filtrarTarefas() {
            const filtroPrioridade = document.getElementById('filtrarPrioridade').value;
            const filtroStatus = document.getElementById('filtrarStatus').value;
            const pesquisa = document.getElementById('pesquisar').value.toLowerCase();
            
            return tarefas.filter(tarefa => {
                const matchPrioridade = !filtroPrioridade || tarefa.prioridade === filtroPrioridade;
                const matchStatus = !filtroStatus || tarefa.status === filtroStatus;
                const matchPesquisa = !pesquisa || tarefa.tarefa.toLowerCase().includes(pesquisa);
                
                return matchPrioridade && matchStatus && matchPesquisa;
            });
        }

        // Event listeners para filtros
        document.getElementById('filtrarPrioridade').addEventListener('change', () => {
            carregarTabela(filtrarTarefas());
        });

        document.getElementById('filtrarStatus').addEventListener('change', () => {
            carregarTabela(filtrarTarefas());
        });

        document.getElementById('pesquisar').addEventListener('input', () => {
            carregarTabela(filtrarTarefas());
        });

        // Exportar para Excel
        function exportarParaExcel() {
            // Criar dados para exporta√ß√£o
            const dadosExport = tarefas.map(tarefa => ({
                'ID': tarefa.id,
                'Prioridade': tarefa.prioridade,
                'Categoria': tarefa.categoria,
                'Tarefa': tarefa.tarefa,
                'Data Sugerida': tarefa.dataSugerida,
                'Respons√°vel': tarefa.responsavel,
                'Status': tarefa.status,
                'Progresso (%)': tarefa.progresso,
                'Depend√™ncias': tarefa.dependencias,
                'Observa√ß√µes': tarefa.observacoes
            }));

            // Converter para CSV
            const headers = Object.keys(dadosExport[0]);
            const csvContent = [
                headers.join(','),
                ...dadosExport.map(row => 
                    headers.map(header => 
                        `"${(row[header] || '').toString().replace(/"/g, '""')}"`
                    ).join(',')
                )
            ].join('\n');

            // Download do arquivo
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', 'checklist_mudanca_austria_reorganizado.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Inicializar
        carregarTabela();
        atualizarEstatisticas();
    </script>
</body>
</html>
